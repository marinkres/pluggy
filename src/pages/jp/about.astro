---
import aboutImg from "@/assets/about-astro.png";
import PageLayout from "@/layouts/Base.astro";
import SocialList from "@/components/SocialList.astro";

const meta = {
  description: "About Page - MarinKresic Blog",
  title: "About",
};

const cactusTech = [
  {
    desc: "静的ウェブサイトホスティング用のAzure Storage。",
    href: "https://azure.microsoft.com/en-us/services/storage/",
    title: "Azure Storage",
  },
  {
    desc: "Azure CDNを使ったHTTPSセキュリティ。",
    href: "https://azure.microsoft.com/en-us/services/cdn/",
    title: "Azure CDN",
  },
  {
    desc: "DNSを通じてカスタムドメイン管理。",
    href: "https://azure.microsoft.com/en-us/services/dns/",
    title: "Azure DNS",
  },
  {
    desc: "API実装用のAzure Functions。",
    href: "https://azure.microsoft.com/en-us/services/functions/",
    title: "Azure Functions",
  },
  {
    desc: "データベースストレージ用のCosmosDB。",
    href: "https://azure.microsoft.com/en-us/services/cosmos-db/",
    title: "Azure CosmosDB",
  },
  {
    desc: "クライアントサイドのインタラクションにJavaScript。",
    href: "https://developer.mozilla.org/en-US/docs/Web/JavaScript",
    title: "JavaScript",
  },
  {
    desc: "Azure SDKでのバックエンド開発用のPython。",
    href: "https://www.python.org/",
    title: "Python",
  },
  {
    desc: "ARMテンプレートを使ったInfrastructure as Code。",
    href: "https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/overview",
    title: "Azure ARM Templates",
  },
  {
    desc: "GitHub ActionsでのCI/CDパイプライン。",
    href: "https://github.com/features/actions",
    title: "GitHub Actions",
  },
  {
    desc: "素早くウェブサイトを構築するためのAstro。",
    href: "https://astro.build",
    title: "Astro",
  },
  {
    desc: "コンポーネントエラにMarkdownを使用。",
    href: "https://mdxjs.com/",
    title: "MDX",
  },
  {
    desc: "ブログ記事のOpen Graph画像を生成するSatori。",
    href: "https://github.com/vercel/satori",
    title: "Satori",
  },
  {
    desc: "完全に静的な検索ライブラリ、Pagefind。",
    href: "https://pagefind.app/",
    title: "Pagefind",
  },
  {
    desc: "カスタマイズ可能なソースコード＆構文ハイライター、Expressive Code。",
    href: "https://expressive-code.com/",
    title: "Expressive Code",
  },
];
---

<PageLayout meta={meta}>
  <div class="space-y-6">
    <h1 class="title">About</h1>
    <p>クロアチア、ザグレブ</p>
    <p class="mb-4">
      私はMarinで、Algebra Bernays大学の<strong>システムエンジニアリングの学生</strong>で、<strong>サイバーセキュリティ、クラウドインフラ、DevOps、オートメーション、システムアーキテクチャ</strong>などの分野に焦点を当てています。
    </p>
    <p class="mb-4">
      このブログは、これらの分野での私のプロジェクト、ソリューション、洞察を紹介しています。訪問していただきありがとうございます。どうぞご覧ください！
    </p>
    
  <section class="mt-16">
    <h4 class="title mb-4 text-xl">このウェブサイトで使用した技術スタック：</h4>
    <dl class="space-y-4">
      {cactusTech.map(({ desc, href, title }) => (
        <div class="flex flex-col gap-2 sm:flex-row">
          <dt>
            <span class="flex">
              <a class="cactus-link" href={href} rel="noopener noreferrer" target="_blank">
                {title}
              </a>
              :
            </span>
          </dt>
          <dd>{desc}</dd>
        </div>
      ))}
    </dl>
  </section>
  <h4 class="title mb-4 text-xl">その他:</h4>
  <p class="mb-4">
    私のミニゲームをitch.ioでチェックしてください：
  </p>
  <div>
    <!-- itch.io埋め込みコードをここに貼り付けてください -->
      <iframe frameborder="0" src="https://itch.io/embed/3318297?linkback=true&amp;bg_color=222222&amp;fg_color=eeeeee&amp;link_color=95d3fe&amp;border_color=95d3fe" width="330" height="167"></iframe>
      <a href="https://mkresic.itch.io/matze"></a>
    </div>
  <section class="mt-16 max-w-4xl mx-auto">
    <SocialList />
    <button class="p-1.5 tag border border-black text-black bg-transparent hover:bg-gray-100 dark:border-white dark:text-white dark:hover:bg-gray-800 mt-2">
      <a href="https://www.buymeacoffee.com/marinkresic" target="_blank"> 🍺ビールを買ってください</a>
    </button>
  </section>
</PageLayout>


<script>
  document.addEventListener("DOMContentLoaded", function() {
    const textarea = document.getElementById("message") as HTMLTextAreaElement | null;
    const maxRows = 4;
    const form = document.getElementById("contactForm") as HTMLFormElement | null;
    const honeypotField = form?.querySelector('input[name="honeypot"]') as HTMLInputElement | null;

    if (textarea) {
      textarea.addEventListener("input", function() {
        const lines = textarea.value.split("\n");
        if (lines.length > maxRows) {
          textarea.value = lines.slice(0, maxRows).join("\n");
        }
      });

      // カーソルが最初に位置するように設定
      textarea.setSelectionRange(0, 0);
    }

    if (form) {
      form.addEventListener("submit", function(event) {
        // honeypotフィールドが入力されているか確認
        if (honeypotField && honeypotField.value) {
          event.preventDefault();  // フォーム送信をブロック
          alert("スパムが検出されました。もう一度お試しください。");
        } else {
          // honeypotフィールドが空であれば送信前に削除
          if (honeypotField) {
            honeypotField.parentNode?.removeChild(honeypotField);
          }
        }
      });
    }
  });
</script>
