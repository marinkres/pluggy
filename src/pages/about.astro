---
import aboutImg from "@/assets/about-astro.png";
import PageLayout from "@/layouts/Base.astro";
import SocialList from "@/components/SocialList.astro";

const meta = {
  description: "About Page - MarinKresic Blog",
  title: "About",
};

const cactusTech = [
  {
    desc: "Build fast websites, faster.",
    href: "https://astro.build",
    title: "Astro",
  },
  {
    desc: "Rapidly build modern websites without ever leaving your HTML.",
    href: "https://tailwindcss.com",
    title: "Tailwind CSS",
  },
  {
    desc: "Simple and easy-to-use markup language.",
    href: "https://www.markdownguide.org/",
    title: "Markdown",
  },
  {
    desc: "Markdown for the component era.",
    href: "https://mdxjs.com/",
    title: "MDX",
  },
  {
    desc: "Generating png Open Graph images for blog posts.",
    href: "https://github.com/vercel/satori",
    title: "Satori",
  },
  {
    desc: "A fully static search library.",
    href: "https://pagefind.app/",
    title: "Pagefind",
  },
  {
    desc: "Highly customisable source code & syntax highlighter.",
    href: "https://expressive-code.com/",
    title: "Expressive Code",
  },
  {
    desc: "Distributed version control system.",
    href: "https://git-scm.com/",
    title: "Git",
  },
  {
    desc: "Scale & Ship Faster with a Composable Web Architecture.",
    href: "https://netlify.com/",
    title: "Netlify",
  }
];
---

<PageLayout meta={meta}>
  <div class="space-y-6">
    <h1 class="title">About</h1>
    <p class="mb-4">
			Collection of projects and solutions of a System Engineering student about <a href="/tags/cybersecurity/" class="tag">Cybersecurity</a>, <a href="/tags/devops/" class="tag">DevOps</a>, <a href="/tags/networks/" class="tag">Networks</a> and more. Explore my journey and insights in these fields. Enjoy your stay. ðŸš€
		</p>
  </div>
  <section class="mt-16">
    <h4 class="title mb-4 text-xl">Technologies Used For The Website</h4>
    <dl class="space-y-4">
      {cactusTech.map(({ desc, href, title }) => (
        <div class="flex flex-col gap-2 sm:flex-row">
          <dt>
            <span class="flex">
              <a class="cactus-link" href={href} rel="noopener noreferrer" target="_blank">
                {title}
              </a>
              :
            </span>
          </dt>
          <dd>{desc}</dd>
        </div>
      ))}
    </dl>
     <!-- Netlify Status Badge -->
      <p class="mt-4">
        <img src="https://api.netlify.com/api/v1/badges/1927fb22-90a0-4293-b11b-a26c48c9209f/deploy-status" alt="Netlify Status" />
      </p>
  </section>
  <section class="mt-16 max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-8">Contact</h1>
    <form
      id="contactForm"
      name="contact"
      method="POST"
      data-netlify="true"
      action="/success"
      class="space-y-6 mb-10"
    >
      <input type="hidden" name="form-name" value="contact" />
      
      <!-- Honeypot field -->
      <label class="honeypot-field" aria-hidden="true">
        <span class="sr-only">Do not fill this out if you're human:</span>
        <input type="text" name="honeypot" tabindex="-1" autocomplete="off" />
      </label>
  
      <div class="flex flex-col gap-4">
        <label class="block">
          <span class="text-gray-700 dark:text-gray-300">Your email:</span>
          <input
            type="email"
            name="email"
            class="mt-1 block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 bg-transparent dark:bg-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-500 focus:border-indigo-500 dark:focus:border-indigo-500 sm:text-sm"
            required
          />
        </label>
        <label class="block">
          <span class="text-gray-700 dark:text-gray-300">Your message:</span>
          <textarea
            id="message"
            name="message"
            class="mt-1 block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 bg-transparent dark:bg-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-500 focus:border-indigo-500 dark:focus:border-indigo-500 sm:text-sm"
            rows="4"
            maxlength="100"
            required
            style="resize: none;"
          ></textarea>
        </label>
      </div>
      
      <button
        type="submit"
        class="w-full py-2 px-4 tag text-white font-semibold rounded-md shadow-sm hover:bg-red-500 hover:dark:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50"
      >
        Send
      </button>
    </form>
    <SocialList />
    <button class="p-1.5 tag bg-zinc-900 text-white hover:bg-yellow-400 mt-2 hover:text-black">
      <a href="https://www.buymeacoffee.com/marinkresic" target="_blank">â˜•Buy me a coffee</a>
    </button>
  </section>
</PageLayout>



<script>
  document.addEventListener("DOMContentLoaded", function() {
    const textarea = document.getElementById("message") as HTMLTextAreaElement | null;
    const maxRows = 4;
    const form = document.getElementById("contactForm") as HTMLFormElement | null;
    const honeypotField = form?.querySelector('input[name="honeypot"]') as HTMLInputElement | null;

    if (textarea) {
      textarea.addEventListener("input", function() {
        const lines = textarea.value.split("\n");
        if (lines.length > maxRows) {
          textarea.value = lines.slice(0, maxRows).join("\n");
        }
      });

      // Ensure the cursor starts at the beginning
      textarea.setSelectionRange(0, 0);
    }

    if (form) {
      form.addEventListener("submit", function(event) {
        // Check if the honeypot field is filled
        if (honeypotField && honeypotField.value) {
          event.preventDefault();  // Block the form submission
          alert("Spam detected. Please try again.");
        } else {
          // Remove the honeypot field if empty before submission
          if (honeypotField) {
            honeypotField.parentNode?.removeChild(honeypotField);
          }
        }
      });
    }
  });
</script>
<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" data-name="bmc-button" data-slug="marinkresic" data-color="#9c4499" data-emoji=""  data-font="Arial" data-text="Buy me a coffee" data-outline-color="#ffffff" data-font-color="#ffffff" data-coffee-color="#FFDD00" ></script>





